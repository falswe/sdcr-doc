<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Coppelia Components: coppelia_components::TopicSystem Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Coppelia Components
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecoppelia__components.html">coppelia_components</a></li><li class="navelem"><a class="el" href="classcoppelia__components_1_1TopicSystem.html">TopicSystem</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classcoppelia__components_1_1TopicSystem-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">coppelia_components::TopicSystem Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Hardware interface to integrate CoppeliaSim with ros2 control.  
 <a href="classcoppelia__components_1_1TopicSystem.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="topic__system_8hpp_source.html">topic_system.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for coppelia_components::TopicSystem:</div>
<div class="dyncontent">
<div class="center"><img src="classcoppelia__components_1_1TopicSystem__inherit__graph.png" border="0" usemap="#acoppelia__components_1_1TopicSystem_inherit__map" alt="Inheritance graph"/></div>
<map name="acoppelia__components_1_1TopicSystem_inherit__map" id="acoppelia__components_1_1TopicSystem_inherit__map">
<area shape="rect" title="Hardware interface to integrate CoppeliaSim with ros2 control." alt="" coords="5,94,153,135"/>
<area shape="rect" title=" " alt="" coords="13,5,145,46"/>
<area shape="poly" title=" " alt="" coords="82,62,82,94,76,94,76,62"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for coppelia_components::TopicSystem:</div>
<div class="dyncontent">
<div class="center"><img src="classcoppelia__components_1_1TopicSystem__coll__graph.png" border="0" usemap="#acoppelia__components_1_1TopicSystem_coll__map" alt="Collaboration graph"/></div>
<map name="acoppelia__components_1_1TopicSystem_coll__map" id="acoppelia__components_1_1TopicSystem_coll__map">
<area shape="rect" title="Hardware interface to integrate CoppeliaSim with ros2 control." alt="" coords="5,94,153,135"/>
<area shape="rect" title=" " alt="" coords="13,5,145,46"/>
<area shape="poly" title=" " alt="" coords="82,62,82,94,76,94,76,62"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoppelia__components_1_1TopicSystem_1_1mimic__joint.html">mimic_joint</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">struct containing the basic informations to handle a mimic type joint  <a href="structcoppelia__components_1_1TopicSystem_1_1mimic__joint.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4a5720a47b06f3182eff374c31c90480" id="r_a4a5720a47b06f3182eff374c31c90480"><td class="memItemLeft" align="right" valign="top"><a id="a4a5720a47b06f3182eff374c31c90480" name="a4a5720a47b06f3182eff374c31c90480"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>return_type</b> = hardware_interface::return_type</td></tr>
<tr class="separator:a4a5720a47b06f3182eff374c31c90480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae563255bc769bf15df56c54301b2d846" id="r_ae563255bc769bf15df56c54301b2d846"><td class="memItemLeft" align="right" valign="top"><a id="ae563255bc769bf15df56c54301b2d846" name="ae563255bc769bf15df56c54301b2d846"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>cb_return</b> = rclcpp_lifecycle::node_interfaces::LifecycleNodeInterface::CallbackReturn</td></tr>
<tr class="separator:ae563255bc769bf15df56c54301b2d846"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac74975173369be6939865a8e8d577c23" id="r_ac74975173369be6939865a8e8d577c23"><td class="memItemLeft" align="right" valign="top">cb_return&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoppelia__components_1_1TopicSystem.html#ac74975173369be6939865a8e8d577c23">on_init</a> (const hardware_interface::HardwareInfo &amp;) override</td></tr>
<tr class="memdesc:ac74975173369be6939865a8e8d577c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to initialize the data structures needed by the hw interfaces and creates publisher and subscribers to integrate CoppeliaSim inside the loop.  <br /></td></tr>
<tr class="separator:ac74975173369be6939865a8e8d577c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c41c868228d7e207292728ed1ba1f27" id="r_a1c41c868228d7e207292728ed1ba1f27"><td class="memItemLeft" align="right" valign="top">std::vector&lt; hardware_interface::StateInterface &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoppelia__components_1_1TopicSystem.html#a1c41c868228d7e207292728ed1ba1f27">export_state_interfaces</a> () override</td></tr>
<tr class="memdesc:a1c41c868228d7e207292728ed1ba1f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">exports the pointers to the state interfaces of the robot  <br /></td></tr>
<tr class="separator:a1c41c868228d7e207292728ed1ba1f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0f6d13b2b672adcfddcfcaaa8e1d46" id="r_a0a0f6d13b2b672adcfddcfcaaa8e1d46"><td class="memItemLeft" align="right" valign="top">std::vector&lt; hardware_interface::CommandInterface &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoppelia__components_1_1TopicSystem.html#a0a0f6d13b2b672adcfddcfcaaa8e1d46">export_command_interfaces</a> () override</td></tr>
<tr class="memdesc:a0a0f6d13b2b672adcfddcfcaaa8e1d46"><td class="mdescLeft">&#160;</td><td class="mdescRight">exports the pointers to the command interfaces of the robot  <br /></td></tr>
<tr class="separator:a0a0f6d13b2b672adcfddcfcaaa8e1d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b86f8f41ee1bdf78696ef50455eb87" id="r_a43b86f8f41ee1bdf78696ef50455eb87"><td class="memItemLeft" align="right" valign="top"><a id="a43b86f8f41ee1bdf78696ef50455eb87" name="a43b86f8f41ee1bdf78696ef50455eb87"></a>
return_type&#160;</td><td class="memItemRight" valign="bottom"><b>read</b> (const rclcpp::Time &amp;, const rclcpp::Duration &amp;) override</td></tr>
<tr class="memdesc:a43b86f8f41ee1bdf78696ef50455eb87"><td class="mdescLeft">&#160;</td><td class="mdescRight">read the Joint states from Coppelia's joint states topic and updates the joint state interfaces. It also sets the sensor values sended by the forward controller <br /></td></tr>
<tr class="separator:a43b86f8f41ee1bdf78696ef50455eb87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3f952073a7c5a1d951fa4995864a86" id="r_a6e3f952073a7c5a1d951fa4995864a86"><td class="memItemLeft" align="right" valign="top"><a id="a6e3f952073a7c5a1d951fa4995864a86" name="a6e3f952073a7c5a1d951fa4995864a86"></a>
return_type&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (const rclcpp::Time &amp;, const rclcpp::Duration &amp;) override</td></tr>
<tr class="memdesc:a6e3f952073a7c5a1d951fa4995864a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes on Coppelia's set states topic the desired joint positions. If the new state moves less than a specific epsilon, no msg is sent <br /></td></tr>
<tr class="separator:a6e3f952073a7c5a1d951fa4995864a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2ccb5da9b619f17fc9b1279a834bf09d" id="r_a2ccb5da9b619f17fc9b1279a834bf09d"><td class="memItemLeft" align="right" valign="top"><a id="a2ccb5da9b619f17fc9b1279a834bf09d" name="a2ccb5da9b619f17fc9b1279a834bf09d"></a>
std::vector&lt; <a class="el" href="structcoppelia__components_1_1TopicSystem_1_1mimic__joint.html">mimic_joint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>mimic_joints_</b></td></tr>
<tr class="memdesc:a2ccb5da9b619f17fc9b1279a834bf09d"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure to handle mimic joints <br /></td></tr>
<tr class="separator:a2ccb5da9b619f17fc9b1279a834bf09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa0fc2dd4b6c770ff4020b6b7b134e1" id="r_a5fa0fc2dd4b6c770ff4020b6b7b134e1"><td class="memItemLeft" align="right" valign="top"><a id="a5fa0fc2dd4b6c770ff4020b6b7b134e1" name="a5fa0fc2dd4b6c770ff4020b6b7b134e1"></a>
matrix&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>joint_commands_</b></td></tr>
<tr class="memdesc:a5fa0fc2dd4b6c770ff4020b6b7b134e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure for joint commands <br /></td></tr>
<tr class="separator:a5fa0fc2dd4b6c770ff4020b6b7b134e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af971b2167edb8025863a608cc9fbff" id="r_a8af971b2167edb8025863a608cc9fbff"><td class="memItemLeft" align="right" valign="top"><a id="a8af971b2167edb8025863a608cc9fbff" name="a8af971b2167edb8025863a608cc9fbff"></a>
matrix&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>joint_states_</b></td></tr>
<tr class="memdesc:a8af971b2167edb8025863a608cc9fbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure for joint states <br /></td></tr>
<tr class="separator:a8af971b2167edb8025863a608cc9fbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4a928c1a3702283df62786b9c9d76d" id="r_a3e4a928c1a3702283df62786b9c9d76d"><td class="memItemLeft" align="right" valign="top"><a id="a3e4a928c1a3702283df62786b9c9d76d" name="a3e4a928c1a3702283df62786b9c9d76d"></a>
std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>sensor_interfaces_</b></td></tr>
<tr class="memdesc:a3e4a928c1a3702283df62786b9c9d76d"><td class="mdescLeft">&#160;</td><td class="mdescRight">contains the interfaces defined for sensors <br /></td></tr>
<tr class="separator:a3e4a928c1a3702283df62786b9c9d76d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e600f1b2e8bb166bb693d0195c6767e" id="r_a4e600f1b2e8bb166bb693d0195c6767e"><td class="memItemLeft" align="right" valign="top"><a id="a4e600f1b2e8bb166bb693d0195c6767e" name="a4e600f1b2e8bb166bb693d0195c6767e"></a>
matrix&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>sensor_commands_</b></td></tr>
<tr class="memdesc:a4e600f1b2e8bb166bb693d0195c6767e"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure for sensor commands <br /></td></tr>
<tr class="separator:a4e600f1b2e8bb166bb693d0195c6767e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd6c1b56134edf354ccbaf52995cbe6" id="r_a3cd6c1b56134edf354ccbaf52995cbe6"><td class="memItemLeft" align="right" valign="top"><a id="a3cd6c1b56134edf354ccbaf52995cbe6" name="a3cd6c1b56134edf354ccbaf52995cbe6"></a>
matrix&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>sensor_states_</b></td></tr>
<tr class="memdesc:a3cd6c1b56134edf354ccbaf52995cbe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure for sensor states <br /></td></tr>
<tr class="separator:a3cd6c1b56134edf354ccbaf52995cbe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa065bfe8fb6cb6700ea73c5c63e7587a" id="r_aa065bfe8fb6cb6700ea73c5c63e7587a"><td class="memItemLeft" align="right" valign="top"><a id="aa065bfe8fb6cb6700ea73c5c63e7587a" name="aa065bfe8fb6cb6700ea73c5c63e7587a"></a>
rclcpp::Subscription&lt; sensor_msgs::msg::JointState &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><b>joint_states_subscriber_</b></td></tr>
<tr class="memdesc:aa065bfe8fb6cb6700ea73c5c63e7587a"><td class="mdescLeft">&#160;</td><td class="mdescRight">subscriber used to read joint states from the joint_state_topic <br /></td></tr>
<tr class="separator:aa065bfe8fb6cb6700ea73c5c63e7587a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af828474f6c5a8bdf0b65302826e8fb8a" id="r_af828474f6c5a8bdf0b65302826e8fb8a"><td class="memItemLeft" align="right" valign="top"><a id="af828474f6c5a8bdf0b65302826e8fb8a" name="af828474f6c5a8bdf0b65302826e8fb8a"></a>
rclcpp::Publisher&lt; std_msgs::msg::Float64MultiArray &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><b>joint_commands_publisher_</b></td></tr>
<tr class="memdesc:af828474f6c5a8bdf0b65302826e8fb8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">publisher used to write joint cmds to the joint_cmd_topic <br /></td></tr>
<tr class="separator:af828474f6c5a8bdf0b65302826e8fb8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b2082b17da5590b4090f3b1f887228" id="r_a91b2082b17da5590b4090f3b1f887228"><td class="memItemLeft" align="right" valign="top"><a id="a91b2082b17da5590b4090f3b1f887228" name="a91b2082b17da5590b4090f3b1f887228"></a>
rclcpp::Node::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><b>node_</b></td></tr>
<tr class="memdesc:a91b2082b17da5590b4090f3b1f887228"><td class="mdescLeft">&#160;</td><td class="mdescRight">node used to publish/subscribe <br /></td></tr>
<tr class="separator:a91b2082b17da5590b4090f3b1f887228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9a3df5771a8ad9072602ce0913c448" id="r_aab9a3df5771a8ad9072602ce0913c448"><td class="memItemLeft" align="right" valign="top"><a id="aab9a3df5771a8ad9072602ce0913c448" name="aab9a3df5771a8ad9072602ce0913c448"></a>
sensor_msgs::msg::JointState&#160;</td><td class="memItemRight" valign="bottom"><b>latest_joint_state_</b></td></tr>
<tr class="memdesc:aab9a3df5771a8ad9072602ce0913c448"><td class="mdescLeft">&#160;</td><td class="mdescRight">auxiliary variable to cache latest read joint state <br /></td></tr>
<tr class="separator:aab9a3df5771a8ad9072602ce0913c448"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a37cfbdfd7bacf88fbf5b3e7e32f93cae" id="r_a37cfbdfd7bacf88fbf5b3e7e32f93cae"><td class="memItemLeft" align="right" valign="top"><a id="a37cfbdfd7bacf88fbf5b3e7e32f93cae" name="a37cfbdfd7bacf88fbf5b3e7e32f93cae"></a>
static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><b>e</b> = 1e-5</td></tr>
<tr class="memdesc:a37cfbdfd7bacf88fbf5b3e7e32f93cae"><td class="mdescLeft">&#160;</td><td class="mdescRight">epsilon for double comparisons tolerance <br /></td></tr>
<tr class="separator:a37cfbdfd7bacf88fbf5b3e7e32f93cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db7be984c3023df22fead2d17095544" id="r_a2db7be984c3023df22fead2d17095544"><td class="memItemLeft" align="right" valign="top">static constexpr std::array&lt; const char *, 3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoppelia__components_1_1TopicSystem.html#a2db7be984c3023df22fead2d17095544">standard_interfaces_</a></td></tr>
<tr class="memdesc:a2db7be984c3023df22fead2d17095544"><td class="mdescLeft">&#160;</td><td class="mdescRight">array of interfaces supported by the hw interface for the joints  <br /></td></tr>
<tr class="separator:a2db7be984c3023df22fead2d17095544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interfaces indexes</div></td></tr>
<tr class="memitem:a6e59f250f19dbca8025b8006f7dc7862" id="r_a6e59f250f19dbca8025b8006f7dc7862"><td class="memItemLeft" align="right" valign="top"><a id="a6e59f250f19dbca8025b8006f7dc7862" name="a6e59f250f19dbca8025b8006f7dc7862"></a>
static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>POSITION_INTERFACE</b> = 0</td></tr>
<tr class="memdesc:a6e59f250f19dbca8025b8006f7dc7862"><td class="mdescLeft">&#160;</td><td class="mdescRight">indexes of the various interfaces in the matrix <br /></td></tr>
<tr class="separator:a6e59f250f19dbca8025b8006f7dc7862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f85f7199a65fbb4826fb6250c8fa6b" id="r_a54f85f7199a65fbb4826fb6250c8fa6b"><td class="memItemLeft" align="right" valign="top"><a id="a54f85f7199a65fbb4826fb6250c8fa6b" name="a54f85f7199a65fbb4826fb6250c8fa6b"></a>
static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>VELOCITY_INTERFACE</b> = 1</td></tr>
<tr class="memdesc:a54f85f7199a65fbb4826fb6250c8fa6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">indexes of the various interfaces in the matrix <br /></td></tr>
<tr class="separator:a54f85f7199a65fbb4826fb6250c8fa6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e934f96523377603e165c5f10581228" id="r_a9e934f96523377603e165c5f10581228"><td class="memItemLeft" align="right" valign="top"><a id="a9e934f96523377603e165c5f10581228" name="a9e934f96523377603e165c5f10581228"></a>
static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>EFFORT_INTERFACE</b> = 2</td></tr>
<tr class="memdesc:a9e934f96523377603e165c5f10581228"><td class="mdescLeft">&#160;</td><td class="mdescRight">indexes of the various interfaces in the matrix <br /></td></tr>
<tr class="separator:a9e934f96523377603e165c5f10581228"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Hardware interface to integrate CoppeliaSim with ros2 control. </p>
<dl class="section note"><dt>Note</dt><dd>this interface supports sensors and joints (including mimic ones). The supported interfaces for the joints are the ones supported in the JointState msgs (so position, velocity and effort). It is mandatory to specify the name of the Topics used by CoppeliaSim. To do so, use the parameters:<ul>
<li>joint_cmd_topic (Float64MultiArray)</li>
<li>joint_state_topic (JointState) </li>
</ul>
</dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0a0f6d13b2b672adcfddcfcaaa8e1d46" name="a0a0f6d13b2b672adcfddcfcaaa8e1d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0f6d13b2b672adcfddcfcaaa8e1d46">&#9670;&#160;</a></span>export_command_interfaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; hardware_interface::CommandInterface &gt; coppelia_components::TopicSystem::export_command_interfaces </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>exports the pointers to the command interfaces of the robot </p>
<dl class="section return"><dt>Returns</dt><dd>the command interface pointers </dd></dl>

</div>
</div>
<a id="a1c41c868228d7e207292728ed1ba1f27" name="a1c41c868228d7e207292728ed1ba1f27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c41c868228d7e207292728ed1ba1f27">&#9670;&#160;</a></span>export_state_interfaces()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; hardware_interface::StateInterface &gt; coppelia_components::TopicSystem::export_state_interfaces </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>exports the pointers to the state interfaces of the robot </p>
<dl class="section return"><dt>Returns</dt><dd>the state interface pointers </dd></dl>

</div>
</div>
<a id="ac74975173369be6939865a8e8d577c23" name="ac74975173369be6939865a8e8d577c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74975173369be6939865a8e8d577c23">&#9670;&#160;</a></span>on_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TopicSystem::cb_return coppelia_components::TopicSystem::on_init </td>
          <td>(</td>
          <td class="paramtype">const hardware_interface::HardwareInfo &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function to initialize the data structures needed by the hw interfaces and creates publisher and subscribers to integrate CoppeliaSim inside the loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>informations about ros_control specified in the urdf</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>this implementation supports joints (including mimic types) and sensors. It is needed to specify the name of the command topic and joint state topic using respectively the parameters "joint_cmd_topic" and "joint_state_topic" in the urdf </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2db7be984c3023df22fead2d17095544" name="a2db7be984c3023df22fead2d17095544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db7be984c3023df22fead2d17095544">&#9670;&#160;</a></span>standard_interfaces_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr std::array&lt;const char*, 3&gt; coppelia_components::TopicSystem::standard_interfaces_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">        hardware_interface::HW_IF_POSITION, </div>
<div class="line">        hardware_interface::HW_IF_VELOCITY,</div>
<div class="line">        hardware_interface::HW_IF_EFFORT,</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p>array of interfaces supported by the hw interface for the joints </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/github/workspace/src/coppelia_components/include/<a class="el" href="topic__system_8hpp_source.html">topic_system.hpp</a></li>
<li>/github/workspace/src/coppelia_components/src/<a class="el" href="topic__system_8cpp.html">topic_system.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
